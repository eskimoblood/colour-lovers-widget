!function(a){a.fn.colourLovers=function(b){function c(){l&&clearTimeout(l),l=setTimeout(d,500)}function d(){function b(a){k.hide(),g=[];var b=a.reduce(c,"");j.append(b)}function c(a,b){return g.push(b.colors),a+'<li class="palette">'+b.colors.reduce(d,"")+"</li>"}function d(a,b){return a+'<span style="background: #'+b+'"></span>'}function e(a){return"#"===a.charAt(0)?"hex="+a.replace(/ *#/g,",").replace(/^,/,""):"keywords="+a.replace(/^ */,"").replace(/ +/g,"+")}j.show(),j.children().not(k).remove(),k.show();var f=e(i.val());a.ajax({url:"http://www.colourlovers.com/api/palettes?format=json&jsonCallback=callback&"+f,dataType:"jsonp",jsonpCallback:"callback"}).done(b)}function e(){j.children().length>1&&j.show()}function f(a){var c=a.currentTarget,d=j.find("li").index(c);j.hide(),b.onSelect(g[d-1])}var g,h=b.type||"style-1",i=a(this).wrap('<div class="colour-lovers '+h+'"> </div>'),j=a("<ul></ul>").insertAfter(i).hide(),k=a('<li class="spinner"> <div class="double-bounce1"/><div class="double-bounce2"/></li>').appendTo(j);j.on("click","li",f),i.on("input",c),i.on("focus",e),i.on("blur",function(){setTimeout(function(){j.hide()},100)});var l}}(window.jQuery||window.Zepto||window.$);